<div class="container py-5 fade-in">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white text-center py-4">
          <h2 class="mb-0">
            <i class="bi bi-calendar-check me-2"></i>Book Your Service
          </h2>
        </div>

        <div class="card-body p-4">
          <form #bookingForm="ngForm" (ngSubmit)="onSubmit()">
            <!-- Personal Information -->
            <h4 class="text-primary-custom mb-3">
              <i class="bi bi-person-fill me-2"></i>Personal Information
            </h4>

            <div class="row mb-3">
              <div class="col-md-6 mb-3">
                <label class="form-label">Full Name *</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="formData.customerName"
                  name="customerName"
                  required>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Email *</label>
                <input
                  type="email"
                  class="form-control"
                  [(ngModel)]="formData.email"
                  name="email"
                  required>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Phone Number *</label>
              <input
                type="tel"
                class="form-control"
                [(ngModel)]="formData.phone"
                name="phone"
                required>
            </div>

            <!-- Address Information -->
            <h4 class="text-primary-custom mb-3 mt-4">
              <i class="bi bi-geo-alt-fill me-2"></i>Address Details
            </h4>

            <div class="mb-3">
              <label class="form-label">Address *</label>
              <textarea
                class="form-control"
                rows="3"
                [(ngModel)]="formData.address"
                name="address"
                required></textarea>
            </div>

            <div class="row mb-3">
              <div class="col-md-4 mb-3">
                <label class="form-label">City *</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="formData.city"
                  name="city"
                  required>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label">State *</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="formData.state"
                  name="state"
                  required>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label">Pincode *</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="formData.pincode"
                  name="pincode"
                  required>
              </div>
            </div>

            <!-- Tank Information -->
            <h4 class="text-primary-custom mb-3 mt-4">
              <i class="bi bi-droplet-fill me-2"></i>Tank Details
            </h4>

            <div class="row mb-3">
              <div class="col-md-6 mb-3">
                <label class="form-label">Tank Type *</label>
                <select
                  class="form-select"
                  [(ngModel)]="formData.tankType"
                  name="tankType"
                  required>
                  <option value="">Select Tank Type</option>
                  <option value="Overhead">Overhead Tank</option>
                  <option value="Underground">Underground Tank</option>
                  <option value="Sump">Sump Tank</option>
                </select>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Tank Capacity *</label>
                <select
                  class="form-select"
                  [(ngModel)]="formData.tankCapacity"
                  name="tankCapacity"
                  required>
                  <option value="">Select Capacity</option>
                  <option value="500L">500 Liters</option>
                  <option value="1000L">1000 Liters</option>
                  <option value="2000L">2000 Liters</option>
                  <option value="5000L">5000 Liters</option>
                  <option value="10000L">10000+ Liters</option>
                </select>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Service Type *</label>
              <select
                class="form-select"
                [(ngModel)]="formData.serviceType"
                name="serviceType"
                required>
                <option value="">Select Service</option>
                <option value="Regular Cleaning">Regular Cleaning - ₹800</option>
                <option value="Deep Cleaning">Deep Cleaning - ₹1,500</option>
                <option value="Sanitization">Sanitization - ₹1,200</option>
                <option value="Deep Cleaning + Sanitization">Deep Cleaning + Sanitization - ₹2,200</option>
              </select>
            </div>

            <!-- Schedule Information -->
            <h4 class="text-primary-custom mb-3 mt-4">
              <i class="bi bi-clock-fill me-2"></i>Schedule
            </h4>

            <div class="row mb-3">
              <div class="col-md-6 mb-3">
                <label class="form-label">Preferred Date *</label>
                <input
                  type="date"
                  class="form-control"
                  [(ngModel)]="formData.preferredDate"
                  name="preferredDate"
                  required>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Preferred Time *</label>
                <select
                  class="form-select"
                  [(ngModel)]="formData.preferredTime"
                  name="preferredTime"
                  required>
                  <option value="">Select Time</option>
                  <option value="9:00 AM">9:00 AM - 11:00 AM</option>
                  <option value="11:00 AM">11:00 AM - 1:00 PM</option>
                  <option value="2:00 PM">2:00 PM - 4:00 PM</option>
                  <option value="4:00 PM">4:00 PM - 6:00 PM</option>
                </select>
              </div>
            </div>

            <div class="mb-4">
              <label class="form-label">Additional Notes</label>
              <textarea
                class="form-control"
                rows="3"
                [(ngModel)]="formData.additionalNotes"
                name="additionalNotes"
                placeholder="Any special instructions or requirements..."></textarea>
            </div>

            <div class="d-grid" *ngIf="!showPaymentSection">
              <button type="submit" class="btn btn-primary btn-lg">
                Proceed to Payment <i class="bi bi-arrow-right ms-2"></i>
              </button>
            </div>
          </form>

          <!-- Payment Section -->
          <div *ngIf="showPaymentSection" class="mt-5 pt-4 border-top">
            <h4 class="text-primary-custom mb-4">
              <i class="bi bi-credit-card me-2"></i>Payment
            </h4>

            <div class="alert alert-info">
              <i class="bi bi-info-circle me-2"></i>
              Scan the QR code below to complete your payment
            </div>

            <div class="text-center my-4">
              <div class="bg-light p-4 d-inline-block rounded">
                <img
                  src="/placeholder.svg?height=200&width=200"
                  alt="Payment QR Code"
                  class="img-fluid"
                  style="max-width: 200px;">
              </div>
              <p class="mt-3 fw-bold">Amount: ₹{{ calculateAmount() }}</p>
            </div>

            <div class="d-grid gap-2">
              <button
                type="button"
                class="btn btn-success btn-lg"
                (click)="confirmPayment()">
                <i class="bi bi-check-circle me-2"></i>I Have Completed the Payment
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
